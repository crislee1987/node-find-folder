"use strict";var arrayTo_Obj,extend,fs,getFolders,glob,ifExistInRoot,isArray,isDir,isFile,isObject,isString,traversal_pattern,traverse_scope,util,_default,_filter,_filter_,_forEach,_options;_options=void 0,fs=require("fs"),glob=require("glob"),extend=require("xtend"),isFile=require("is-file"),isDir=require("is-directory"),util=require("gulp-util"),_default={nottraversal:[".git","node_modules"],ignore:[]},Array.prototype.forEach||(_forEach=function(r,t){var e,n,i,o,s;if(n=void 0,i=void 0,null===this)throw new TypeError("this is null or not defined");if(e=Object(this),s=e.length>>>0,"[object Function]"!=={}.toString.call(r))throw new TypeError(r+"is not a function");for(t&&(n=t),i=0;s>i;)Object.prototype.hasOwnProperty.call(e,i)&&(o=e[i],r.call(n,o,i,e)),i++},Array.prototype.forEach=_forEach),[].includes||Object.defineProperty(Array.prototype,"includes",{enumerable:!1,configurable:!0,writable:!0,value:function(r){var t,e,n,i,o;if(void 0===this||null===this)throw new TypeError("Cannot convert this value to object");if(t=Object(this),i=parseInt(t.length||0),0===i)return!1;if(o=parseInt(arguments[1]||0),o>=i)return!1;for(o>=0?n=o:(n=i+o,0>n&&(n=0));i>n;){if(e=t[n],r===e||r!==r&&e!==e)return!0;n++}return!1}}),Array.prototype.filter||(_filter_=function(r){var t,e,n,i,o,s;if(void 0===this||null===this)throw new TypeError;if(i=Object(this),e=i.length>>>0,"function"!=typeof r)throw new TypeError;for(n=[],o=arguments.length>=2?arguments[1]:void 0,t=0;e>t;)t in i&&(s=i[t],r.call(o,s,t,i)&&n.push(s)),t++;return n},Array.prototype.filter=_filter_),isString=function(){var r;return r="[object String]"===Object.prototype.toString.call(arguments[0])?!0:!1},isObject=function(r){var t;return t=void 0!==r&&void 0===r.length?!0:!1},isArray=function(){var r;return r="[object Array]"===Object.prototype.toString.call(arguments[0])?!0:!1},arrayTo_Obj=function(r){var t;return t={},isArray(r)?r.forEach(function(r,e){return t[r]=e}):t[r]=0,t},_filter=function(r,t){var e;return e=arrayTo_Obj(t),r.filter(function(r){return!(r in e)})},traverse_scope=function(){var r,t;return t=void 0,r=function(){var r,t,e,n;return t=fs.readdirSync(process.cwd()),r=[],e=[],n=function(t){isDir(t)&&r.push(t)},t.forEach(n),e=_filter(r,_options.nottraversal)},{getInstance:function(){return t||(t=r()),t}}}(),ifExistInRoot=function(r){return traverse_scope.getInstance().includes(r)},traversal_pattern=function(r){var t;return t=ifExistInRoot(r)?"+("+_filter(traverse_scope.getInstance(),r).join("|")+")/**/"+r:"+("+traverse_scope.getInstance().join("|")+")/**/"+r},getFolders=function(){var r,t,e;return t=arguments[0],r=arguments[1],void 0!==r?isObject(r)&&(_options=extend(_default,r)):_options=_default,isString(t)&&!isFile(t)&&(e=glob.sync(traversal_pattern(t)),ifExistInRoot(t)&&e.push(t)),_filter(e,_options.ignore)},module.exports=getFolders;